<h2>المبادرون الأوائل <br>
    كشف الخدمات المقدمة</h2>
<table>
    <colgroup>
        <col style="width: auto">
        <col style="width: auto">
        <col style="width: 18%">
        <col style="width: 18%">
    </colgroup>
    <tbody>
        <tr *ngIf="parameters.service_name!='الكل'">
            <td colspan="4" style="width: auto">الخدمة: <b>{{parameters.service_name}}</b>
            </td>
        </tr>
        <tr>
            <td>المقاول: <b>{{parameters.contractor_name}}</b>
            </td>
            <td>حالة الكرت: <b>{{parameters.taskState_name}}</b>
            </td>
            <td>من تاريخ: <b>{{parameters.fromDate|date:"dd/MM/yyyy"}}</b>
            </td>
            <td>إلى تاريخ: <b>{{parameters.toDate|date:"dd/MM/yyyy"}}</b>
            </td>
        </tr>
    </tbody>
</table>
<table class="items">
    <thead>
        <tr>
            <th style="width: 5%;">الرقم</th>
            <th style="width: 10%">التاريخ</th>
            <th style="width: 7%">فاتورة</th>
            <th style="width: 8%">نوع العمل</th>
            <th style="width: 9%">رقم سوات</th>
            <th *ngIf="parameters.contractor_name=='الكل'" style="width: 10%;">المقاول</th>
            <th *ngIf="parameters.service_name=='الكل'" style="min-width: 40mm;">الخدمة</th>
            <th style="width: 7%">الكمية</th>
            <th style="width: 7%">الحالة</th>
            <th style="width: auto">مكان العمل</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of flattenMissions">
            <td>{{item.index}}</td>
            <td>{{item.date | date: 'dd/MM/yyyy'}}</td>
            <td>{{item.serialNo}} </td>
            <td>{{item.workType_name}} </td>
            <td>{{item.swatNo}} </td>
            <td *ngIf="parameters.contractor_name=='الكل'">{{item.contractor_name}}</td>
            <td *ngIf="parameters.service_name=='الكل'">{{item.service_name}} </td>
            <td>{{item.quantity|number:'1.0-1'}} </td>
            <td>{{item.taskState_name}}</td>
            <td>{{item.name}}</td>
        </tr>
    </tbody>
    <!-- <tfoot>
        <td colspan="6" style="text-align: left;">مجموع الكميات: </td>
        <td style="text-align: center; font-weight: bold;">{{sumOfProperty(flattenMissions, 'quantity')}}</td>
        <td>&nbsp;</td>
    </tfoot> -->
</table>
<p *ngIf="parameters.service_name!='الكل'" style="text-align: left; padding-left: 50px; padding-top: 5px;">مجموع
    الكميات: <b>{{sumOfProperty(flattenMissions, 'quantity')}}</b></p>

<table class="version">
    <tr>
        <td>
            <strong> &copy; 2025 <a onclick="">المبادرون الأوائل. برمجة عبد الرحمن نور</a>. </strong>
        </td>
        <!-- <td style="text-align: left;">
        <b>الإصدار</b> {{company.pos_version}}
      </td> -->
    </tr>
</table>